@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===== VARIÁVEIS CSS ===== */
:root {
  --color-primary: #0066FF;
  --color-primary-hover: #0052CC;
  --color-primary-light: #E8F4FF;
  --color-bg-message-bot: #F5F5F5;
  --color-text-primary: #1a1a1a;
  --color-text-secondary: #666666;
  --color-border: #e0e0e0;
  --color-success: #00C853;
  --color-warning: #FF6D00;
  --color-error: #D32F2F;
}

/* ===== GLOBAL STYLES ===== */
html {
  scroll-behavior: smooth;
}

body {
  @apply bg-white dark:bg-gray-950 text-gray-900 dark:text-white;
  font-family: 'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
}

/* ===== SCROLLBAR CUSTOMIZADO (Desktop - macOS overlay) ===== */
* {
  scrollbar-width: thin;
  scrollbar-color: transparent transparent;
}

*:hover {
  scrollbar-color: rgba(156, 163, 175, 0.5) transparent; /* gray-400 com opacity */
}

.dark *:hover {
  scrollbar-color: rgba(75, 85, 99, 0.5) transparent; /* gray-600 com opacity */
}

/* Webkit (Chrome, Safari, Edge) */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  @apply bg-gray-400 dark:bg-gray-600 rounded-full;
  opacity: 0;
  transition: opacity 0.3s ease;
}

/* Mostra scrollbar apenas durante hover ou scroll ativo */
*:hover::-webkit-scrollbar-thumb,
*:active::-webkit-scrollbar-thumb {
  opacity: 1;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-gray-500 dark:bg-gray-500;
}

/* ===== MOBILE BOTTOM NAVIGATION SPACING ===== */

/**
 * Hierarquia de espaçamento (Mobile):
 * - BottomNavigation (sticky bottom-0): ~70px
 * - LeadCounter (fixed bottom-20): ~56px, z-30
 * - FAB Button (fixed bottom-36): 56px, z-40
 * - KanbanBoardMobile pb-24: 96px
 */

@media (max-width: 767px) {
  /* Garante que body ocupa viewport inteiro */
  html,
  body {
    height: 100%;
    overflow: hidden;
  }

  /* FAB não conflita com LeadCounter + BottomNavigation */
  .fab-mobile {
    @apply fixed bottom-36 right-4 w-14 h-14 bg-blue-600 hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-700 text-white rounded-full flex items-center justify-center shadow-lg transition text-2xl z-40;
  }

  /* LeadCounter spacing */
  .lead-counter {
    @apply fixed bottom-20 left-0 right-0 bg-gray-50 dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800 px-4 py-3 text-center text-sm text-gray-600 dark:text-gray-400 z-30 pointer-events-none;
  }

  /* BottomNavigation spacing */
  .bottom-navigation {
    @apply sticky bottom-0 z-40 flex-shrink-0;
  }

  /* Content scroll spacing - previne corte de elementos */
  .kanban-list {
    @apply pb-24;
  }
}

/* ===== DESKTOP LAYOUT ===== */

@media (min-width: 768px) {
  /* Desktop FAB */
  .fab-desktop {
    @apply fixed bottom-8 right-8 w-14 h-14 bg-primary hover:bg-primary-hover dark:bg-blue-600 dark:hover:bg-blue-700 text-white rounded-full flex items-center justify-center shadow-lg transition text-2xl z-40;
  }
}

/* ===== TRANSITIONS & ANIMATIONS ===== */

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slideUp {
  from {
    transform: translateY(10px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.fade-in {
  animation: fadeIn 0.2s ease-in;
}

.slide-up {
  animation: slideUp 0.3s ease-out;
}

/* ===== FOCUS STYLES (Accessibility) ===== */

button:focus-visible,
a:focus-visible,
input:focus-visible {
  @apply outline-2 outline-offset-2 outline-blue-600 dark:outline-blue-400;
}

/* ===== UTILITY CLASSES ===== */

.text-truncate {
  @apply truncate;
}

.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.disable-scrollbar {
  -ms-overflow-style: none; /* IE and Edge */
  scrollbar-width: none; /* Firefox */
}

.disable-scrollbar::-webkit-scrollbar {
  display: none; /* Chrome, Safari and Opera */
}